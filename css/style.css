/* =========================================================
  01. CSS Variables（テーマ）
========================================================= */
:root {
  --bg: #f4f4f4;
  --text: #2e2e2e;
  --muted: #777;
  --primary: #4a4a4a;
  --primary-dark: #2f2f2f;
  --accent: #888;
  --card: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
}

/* =========================================================
  02. Base / Reset（全体共通）
  - sticky footer のために html/body をフルハイト化
  - body を縦 Flex にして main が余白を吸収
========================================================= */
html,
body {
  height: 100%;
  margin: 0;
}

body {
  display: flex;              /* sticky footer のため */
  flex-direction: column;     /* 縦レイアウト */
  min-height: 100vh;          /* 画面高を最低保証 */

  font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", system-ui, sans-serif;
  padding: 0;
  background-color: #dbedf0;  /* 現在の指定を優先 */
  /* background-color: var(--bg); */
  color: var(--text);
  line-height: 1.6;
}

ul {
  list-style: none;
  padding-left: 0;            /* ul の左余白が気になる場合の定番 */
  margin: 0;
}

/* =========================================================
  03. Layout（ページ骨格）
  - main を伸縮領域にして footer を最下部へ
========================================================= */
main {
  flex: 1;

  /* 幅の考え方を変更：スマホはほぼ全幅、PCは上限をpxで制限 */
  width: min(1100px, calc(100% - 48px)); /* 左右24pxずつの余白 */
  margin: 18px auto;
  padding: 32px;

  background: #fafafa;
  border-radius: 18px;
  border: 1px solid rgba(0, 60, 80, 0.12);
  box-shadow:
    0 18px 40px rgba(0, 60, 80, 0.18),
    0 2px 0 rgba(255, 255, 255, 0.9) inset;
}

/* =========================================================
  04. Header（ヘッダー）
========================================================= */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 24px;

  background: linear-gradient(90deg, #0078d7, #005a9e);
  border-bottom: 1px solid var(--border);

  position: sticky;
  top: 0;
  z-index: 10;
}

header h1 {
  font-size: 1.7rem;
  font-family: "Yu Gothic", "游ゴシック", YuGothic, "游ゴシック体";
  margin: 0;
  font-weight: 700;
  color: #fff;
}

header nav {
  display: flex;
  align-items: center;
  gap: 12px;
}

header nav span {
  font-size: 0.95rem;
  color: #fff;
  font-weight: 500;
}

header nav a {
  background-color: #fff;
  color: #0078d7;
  font-weight: 600;
  padding: 6px 12px;
  border-radius: 6px;
  text-decoration: none;
  border: 1px solid var(--border);
  transition: background 0.2s ease, color 0.2s ease;
}

header nav a:hover {
  background-color: #cce0ff;
  color: #003e7e;
}

/* =========================================================
  05. Footer（フッター）
  - main が flex:1 で伸びるため、コンテンツが少なくても下に張り付く
========================================================= */
footer {
  font-size: 0.8rem;
  margin-top: 40px; /* コンテンツが多い時の視認性確保 */
  padding: 20px 30px;

  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(6px);
  border-top: 1px solid var(--border);
}

.footer-inner {
  width: 80%;
  padding: 0 24px;
  text-align: left;
}

.footer-name {
  font-weight: 400;
  margin: 0 0 3px;
}

/* =========================================================
  06. Xリンク専用のスタイル
========================================================= */
.x-link {
    color: #1DA1F2;
    text-decoration: none;
    font-weight: bold;
}

.x-link:hover {
    text-decoration: underline; /* マウスを乗せた時に線を出すとおしゃれです */
}

/* =========================================================
  07. Menu（トップのメニューリンク）
========================================================= */
.menu-buttons {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 32px;
  align-items: center;
}

.menu-btn {
  display: block;
  width: 260px;
  background-color: #e0e0e0;
  color: #333;
  text-align: center;
  padding: 16px 24px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 600;
  letter-spacing: 0.06em;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s ease, box-shadow 0.3s ease, background-color 0.3s ease;
}

.menu-btn:hover {
  background-color: #d0d0d0;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

/* =========================================================
  08. Item List（作品一覧カード）
========================================================= */
.item-list {
  padding: 20px;
  background: rgba(0, 0, 0, 0.035);
  border-radius: 14px;
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.8) inset;
}

.item-card {
  background: linear-gradient(180deg, #ffffff 0%, #f5f8fa 100%);
  border-radius: 14px;
  padding: 18px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.10);
  transition: transform 0.2s ease, box-shadow 0.2s ease; /* hover で動くので明示 */
}

.item-card:hover {
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
  transform: translateY(-3px);
}

.item-row {
  display: flex;
  align-items: center;
}

.item-thumb {
  width: 96px;
  height: 96px;
  object-fit: cover;
  border-radius: 8px;
  flex-shrink: 0;
  margin-right: 16px;
}

.item-content {
  flex: 1;
  min-width: 0;
}

.item-title {
  display: block;
  font-size: 16px;
  font-weight: 600;
  color: #222;
  text-decoration: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.item-title:hover {
  text-decoration: underline;
}

.item-rating {
  margin-top: 2px;
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  color: #f39c12;
}

.rating-label {
  font-size: 13px;
  color: #666;
}

/* =========================================================
  09. Button Group（submit ボタン群）
========================================================= */
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 20px;
}

.button-group input[type="submit"] {
  padding: 10px 20px;
  font-weight: 600;
  border-radius: 6px;
  border: 1px solid var(--border);
  background-color: #e0e0e0;
  color: #333;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.button-group input[type="submit"]:hover {
  background-color: #d0d0d0;
}

/* =========================================================
  10. Forms（入力フォーム）
========================================================= */
.form {
  display: inline-block;
  width: 130px;
}

input[type="text"],
input[type="email"],
input[type="password"] {
  width: 200px;
}

input[type="file"] {
  width: 100%;
  max-width: 420px;
}

/* エラー表示 */
.error-message,
.error {
  color: red;
  font-size: 16px;
  text-align: center;
}

.input-error {
  border: 2px solid red;
}

/* 成功表示 */
.success-message {
  color: #005a9e;
  font-size: 16px;
  text-align: center;
}

/* =========================================================
  11. Rating（星評価表示 共通）
========================================================= */
.star-rating {
  position: relative;
  display: inline-block;
  font-size: 18px;
  line-height: 1;
}

.star-bg {
  color: #ccc;
}

.star-fg {
  color: #f0a500;
  position: absolute;
  top: 0;
  left: 0;
  overflow: hidden;
  white-space: nowrap;
}

.rating-value {
  margin-left: 6px;
  font-size: 14px;
  font-weight: 600;
  color: #333;
}

.no-rating {
  color: #888;
  font-size: 14px;
}

/* =========================================================
  12. Icons / MyPage（ユーザーアイコン・マイページ）
========================================================= */
.user-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  margin-right: 8px;
  object-fit: cover;
}

.mypage-user {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  margin: 15px 0;
}

.mypage-user img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 50%;
}

.mypage-username {
  font-size: 1.2em;
  font-weight: bold;
}

/* =========================================================
  レスポンシブ対応：スマートフォン用調整
========================================================= */
@media (max-width: 600px) {
  main {
    width: calc(100% - 24px);
    margin: 12px auto;
    padding: 18px;
  }
}

/* =========================================================
  レスポンシブ対応：横はみ出し防止（保険）
========================================================= */
html, body {
  overflow-x: hidden;
}

/* =========================================================
  レスポンシブ対応：スマートフォン用調整（本命）
========================================================= */
@media (max-width: 600px) {
  main {
    width: calc(100% - 24px); /* 左右12px */
    margin: 12px auto;
    padding: 16px;            /* 32px はスマホには大きい */
  }

  /* ボタン系：固定幅をスマホで可変に */
  .menu-btn {
    width: 100%;
    max-width: 320px;         /* 大きすぎない上限 */
  }

  /* フッター：内側余白で溢れないように */
  .footer-inner {
    width: 100%;
    padding: 0;
  }

  /* フォーム：入力欄は親幅に合わせる */
  input[type="text"],
  input[type="email"],
  input[type="password"] {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  input[type="file"] {
    max-width: 100%;
  }
}

@media (max-width: 600px) {
  .item-row {
    align-items: flex-start;
    gap: 12px;
  }

  .item-thumb {
    width: 72px;
    height: 72px;
    margin-right: 0; /* gap を使うので不要 */
  }

  .item-content {
    min-width: 0; /* すでにあるが念のため */
  }

  .item-title {
    white-space: normal;      /* 1行固定を解除して折り返す */
    overflow: visible;
    text-overflow: clip;
  }
}

@media (max-width: 600px) {
  .menu-buttons {
    width: 100%;
    align-items: stretch; /* 子要素を同じ幅に揃える */
  }

  .menu-btn {
    width: 100%;
    max-width: none;
    box-sizing: border-box;
    text-align: center;
    white-space: normal; /* 長い文字は折り返す */
  }
}

@media (max-width: 600px) {
  .menu-btn {
    line-height: 1.3;
    padding: 14px 16px;
  }
}

/* =========================================================
  レスポンシブ対応：スマホ用 文字サイズ・余白の調整
========================================================= */
@media (max-width: 600px) {

  /* 全体の基準文字サイズを少し下げる */
  body {
    font-size: 14px; /* PC想定16px → スマホ14px */
  }

  /* 見出しはやや控えめに */
  header h1 {
    font-size: 1.3rem;
  }

  /* メニュー・ボタン文字 */
  .menu-btn {
    font-size: 0.95rem;
  }

  /* 一覧・本文 */
  .item-title {
    font-size: 0.95rem;
  }

  .item-rating,
  .rating-label {
    font-size: 0.8rem;
  }

  /* フッター文字 */
  footer {
    font-size: 0.75rem;
  }
}

@media (max-width: 600px) {

  main {
    padding: 16px;
  }

  .menu-btn {
    padding: 14px 16px;
  }

  .item-card {
    padding: 14px;
  }
}

@media (max-width: 600px) {
  .item-rating {
    flex-wrap: wrap;      /* はみ出す時は折り返す */
    row-gap: 4px;
    max-width: 100%;
  }

  .rating-label {
    white-space: normal; /* ラベルが長い場合も折り返す */
  }
}

@media (max-width: 600px) {
  .item-title {
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
  }
}

@media (max-width: 600px) {
  .star-rating {
    font-size: 16px; /* 18px → 16px */
  }

  .rating-value,
  .no-rating {
    font-size: 12px;
  }
}

@media (max-width: 600px) {
  .item-row {
    flex-direction: column;   /* 縦積み */
    align-items: stretch;
    gap: 10px;
  }

  .item-thumb {
    width: 100%;
    height: auto;
    max-height: 180px;        /* 画像が大きくなり過ぎないよう上限 */
    margin-right: 0;
  }
}

@media (max-width: 600px) {
  /* ヘッダー全体を縦積みに変更 */
  header {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    padding: 12px 14px;
  }

  /* タイトルは小さめ＆折り返し許可 */
  header h1 {
    font-size: 1.2rem;
    line-height: 1.2;
    white-space: normal;
  }

  /* navを左右に分散させ、折り返し可能に */
  header nav {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
  }

  /* ユーザー名が長い場合に潰れないように省略 */
  header nav span {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* ボタンを小さめにして収まりやすく */
  header nav a {
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 0.9rem;
    white-space: nowrap;
  }
}

@media (max-width: 600px) {

  /* ===== 全体の基準文字サイズ（header 以外に効く） ===== */
  body {
    font-size: 13px;   /* 14pxでもOK。13pxの方がスマホらしい */
  }

  /* ===== main 内の本文 ===== */
  main {
    font-size: 1rem;  /* body基準に揃える */
  }

  /* ===== 汎用テキスト ===== */
  p,
  li,
  label {
    font-size: 1rem;
  }

   /* ===== フォーム ===== */
  input,
  textarea,
  select {
    font-size: 1rem;
  }
}

/* レビュー投稿時の注意文（1人1作品1レビューの仕様説明用） */
.note {
  font-size: 0.9em;     /* 本文より少し小さくして補足であることを示す */
  color: #666;          /* 目立ちすぎない注意書き用の色 */
  margin-bottom: 8px;  /* フォームとの間に余白を確保 */
}

/* =========================================================
  Review History（レビュー履歴：カード化）
  - item_list のカードUIを流用し、差分だけ追加
========================================================= */
.history-row {
  /* item-row は align-items:center 前提。履歴は上寄せが見やすい場合がある */
  align-items: flex-start;
  gap: 16px; /* 画像の margin-right の代替（チェック列との間隔） */
}

.history-card-check {
  flex: 0 0 44px;          /* チェック列固定幅 */
  display: flex;
  justify-content: center;
  padding-top: 6px;        /* テキスト先頭と揃える微調整 */
}

.history-card-check input[type="checkbox"] {
  transform: scale(1.1);   /* 小さすぎる場合のみ。不要なら削除可 */
}

.history-content {
  min-width: 0;            /* 長文で横はみ出し防止 */
}

.history-card-body {
  white-space: normal;     /* 折り返し */
  overflow-wrap: anywhere; /* 長い連続文字にも強い */
}

.history-card-meta {
  margin-top: 8px;
  font-size: 0.9em;
  color: var(--muted);
}

.history-card-actions {
  justify-content: flex-end; /* 削除ボタンを右寄せ */
}

/* =========================================================
  item_detail レイアウト
========================================================= */
.item-detail-wrap {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  margin-top: 16px;
}

/* 左：画像 */
.item-detail-image-area {
  flex-shrink: 0;
}

.item-detail-image {
  width: 180px;          /* ← ここで小さくする */
  height: auto;
  display: block;
  border-radius: 6px;
  object-fit: cover;
  background-color: #eee;
}

/* 右：説明文 */
.item-detail-description {
  flex: 1;
  line-height: 1.6;
}

/* スマホ対応（縦並び） */
@media (max-width: 600px) {
  .item-detail-wrap {
    flex-direction: column;
  }

  .item-detail-image {
    width: 100%;
    max-width: 240px;
  }
}

/* =========================================================
  退会処理ボタン レイアウト
  危険操作（退会）のため、通常メニューから視覚的に分離
========================================================= */
/* メニュー群との視覚的な区切り */
.form-wrap {
  display: flex;
  justify-content: flex-end; /* 右寄せ */
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid #ddd; /* 危険操作の区切り */
}

/* form 自体 */
.form-right {
  margin-left: auto;
}

/* 退会ボタン（目立たせない） */
.form-right input[type="submit"] {
  background: none;
  border: 1px solid #aaa;
  color: #666;
  font-size: 0.9rem;
  padding: 0.4rem 0.8rem;
  cursor: pointer;
}

/* hover 時のみ注意喚起 */
.form-right input[type="submit"]:hover {
  border-color: #c00;
  color: #c00;
}

/* =========================================================
  Account Delete Confirm（退会確認画面）
========================================================= */
.delete-confirm-actions {
  margin-top: 1.5rem;
}

/* 右寄せ・横並び・間隔 */
.delete-confirm-actions .button-group {
  justify-content: flex-end;
  gap: 20px;
}

/* button も submit と同じ見た目に揃える */
.delete-confirm-actions .button-group button,
.delete-confirm-actions .button-group input[type="submit"] {
  padding: 10px 20px;
  font-weight: 600;
  border-radius: 6px;
  border: 1px solid var(--border);
  cursor: pointer;
}

/* キャンセル：控えめ（アウトライン） */
.delete-confirm-actions .btn-cancel {
  background: none;
  color: #555;
  border-color: #aaa;
}

.delete-confirm-actions .btn-cancel:hover {
  border-color: #777;
  color: #333;
}

/* 退会：危険色（confirmでは明示） */
.delete-confirm-actions .btn-danger {
  background: #b00020;
  border-color: #b00020;
  color: #fff;
}

.delete-confirm-actions .btn-danger:hover {
  filter: brightness(0.95);
}

.btn-danger {
  background: #b00020;
  border-color: #b00020;
  opacity: 0.9;
}
.btn-danger:hover {
  opacity: 1;
}
