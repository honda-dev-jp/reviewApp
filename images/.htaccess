# ----------------------------------------------------------------------
# 画像への直接アクセス・直リンクを制限
# ----------------------------------------------------------------------

# 1. ブラウザでフォルダを開いたときにファイル一覧が見えるのを防ぐ
Options -Indexes

# 2. 直リンク禁止（自分のサイト以外からのアクセスを拒否）
# imagesフォルダ専用の記述案
<IfModule mod_rewrite.c>
    RewriteEngine On
    # 自分のポートフォリオサイトからのアクセス（リファラあり）なら許可して終了
    RewriteCond %{HTTP_REFERER} ^https://portfolio\.honda-dev\.com [NC]
    RewriteRule ^ - [L]

    # それ以外（直接入力や他サイトからのリンク）で画像ファイルへのアクセスなら403
    RewriteRule \.(jpg|jpeg|png|gif|webp)$ - [F,NC]
</IfModule>